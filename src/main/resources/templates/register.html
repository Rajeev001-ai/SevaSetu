<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Register | LocalService</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    min-height:100vh;
    background:
      linear-gradient(to right, rgba(0,0,0,.8), rgba(0,0,0,.5)),
      url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c')
      center/cover no-repeat;
    display:flex;
    align-items:center;
    justify-content:center;
}

.register-card{
    margin-top: 50px;
    background:#fff;
    border-radius:12px;
    padding:20px 20px;
    width:100%;
    max-width:480px;
    box-shadow:0 15px 35px rgba(0,0,0,.25);
}

.brand{
    font-weight:700;
    font-size:1.25rem;
    color:#fbbf24;
}

.form-control,.form-select{
    height:38px;
    border-radius:7px;
    font-size:.9rem;
}

.form-label{
    font-size:.78rem;
    margin-bottom:3px;
}

.btn-register{
    background:#fbbf24;
    border:none;
    height:38px;
    font-weight:600;
    font-size:.9rem;
}
.btn-register:hover{ background:#f59e0b; }

.small-link a{
    color:#f59e0b;
    font-weight:500;
    text-decoration:none;
}

@media(max-width:576px){
    .register-card{
        padding:18px 16px;
    }
}
</style>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">SevaSetu</a>
        <div class="ms-auto">
          <a th:href="@{/login}" class="btn btn-outline-light btn-sm me-2">Login</a>
          <a th:href="@{/}" class="btn btn-warning btn-sm">Dashboard</a>
        </div>
      </div>
    </nav>

<div class="register-card" data-aos="zoom-in">

    <div class="text-center mb-2">
        <div class="brand">LocalService</div>
        <p class="text-muted small mb-1">
            Create your account
        </p>
    </div>
    <!-- SUCCESS MESSAGE -->
    <div th:if="${success}" class="alert alert-success small py-2">
        Account created successfully. Please login.
    </div>

    <!-- ERROR MESSAGE -->
    <div th:if="${error}" class="alert alert-danger small py-2">
        Something went wrong. Try again.
    </div>

    <form th:action="@{/register}" method="post" th:object="${user}">

        <div class="mb-1">
            <label class="form-label">Full Name</label>
            <input th:field="*{name}" class="form-control" required>
        </div>

        <div class="mb-1">
            <label class="form-label">Email</label>
            <input type="email" th:field="*{email}" class="form-control" required>
        </div>

         <div class="mb-1">
            <label class="form-label">Phone</label>
            <input type="text" th:field="*{phone}" class="form-control" required>
        </div>

        <div class="mb-1">
            <label class="form-label">Password</label>
            <input type="password" th:field="*{password}" class="form-control" required>
        </div>

        <div class="mb-1">
            <label class="form-label">City</label>
            <input th:field="*{city}" class="form-control" required>
        </div>

        <div class="mb-2">
            <label class="form-label">Role</label>
            <select th:field="*{role}" class="form-select" required>
                <option value="">Select</option>
                <option value="USER">User</option>
                <option value="HELPER">Helper</option>
            </select>
        </div>

        <button class="btn btn-register w-100">
            Register
        </button>

    </form>

    <div class="text-center mt-2 small-link">
        <p class="mb-0 small">
            Already have an account?
            <a th:href="@{/login}">Login</a>
        </p>
    </div>

</div>

<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>AOS.init({duration:600, once:true});</script>

</body>
</html>
